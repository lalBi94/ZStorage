<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: ZStorage.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: ZStorage.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import ZNodes from "./ZNodes.js"

/**
 * @name ZStorage List contains a lot of nodes.
 * @version 1.0
 * @requires ZNodes
 * @license MIT
 * @author : General Zod (lalBi94)
 * @link https://github.com/lalBi94
 * @copyright © 2023 Boudjemline 
 * @contact : bilal@boudjemline.fr
 */
export default class ZStorage {
    constructor() {
        /**
         * Source of the list
         * @type {ZNodes} root
         */
        this.root = new ZNodes(-1)
    }

    /**
     * Ex: 
     *  1) list = [0]:1 -> [1]:32 -> [2]:4 -> [3]:57
     *  2) list.breakAt(1)
     *  3) list = [0]:1 -> [1]:32 
     * @param {number} index Index of the new last node
     */
    breakAt(index) {
        let cpy = this.root
        let counter = 0

        while(counter &lt;= index) {
            cpy = cpy.getNext()
            ++counter
        }
        
        cpy.breakNext()
    }

    /**
     * Modify value at specific index
     * @param {number} index Index of the value to change
     * @param {any} val New value
     */
    modifyValueAt(index, val) {
        let cpy = this.root
        let count = 0

        while(count &lt;= index) {
            ++count
            cpy = cpy.getNext()
        }

        cpy.setValue(val)
    }

    /**
     * Get the size of the list
     * @return {number}
     */
    length() {
        let cpy = this.root
        let counter = 0

        while(cpy.getNext() !== null) {
            ++counter
            cpy = cpy.getNext()
        }

        return counter
    }
    
    /**
     * Push any type value
     * @param {any} val The node value
     * @return {void}
     */
    push(val) {
        if(this.root.getNext() === null) {
            this.root.setNext(new ZNodes(val))
        } else {
            let cpy = this.root

            while(cpy.getNext() !== null) {
                cpy = cpy.getNext()
            }

            cpy.setNext(new ZNodes(val))
        }
    }

    /**
     * Connect 2 lists
     * @param {ZStorage} l2 The second list
     * @return {ZStorage}
     */
    connect(l2) {
        let cpy = this.root

        while(cpy.getNext() !== null) {
            cpy = cpy.getNext()
        }

        cpy.setNext(l2.getRoot().getNext())
    }

    /**
     * Get value at index
     * @param {number} index The index of the nodes 
     * @return {any|null}
     */
    getValueAt(index) {
        if(this.length() >= index) {
            let cpy = this.root
            let counter = 0

            while(counter &lt;= index) {
                cpy = cpy.getNext()
                ++counter
            }
            
            return cpy.getValue()
        } else {
            return null
        }
    }

    /**
     * Clear the list
     * @return {void}
     */
    clear() {
        this.root = new ZNodes(-1)
    }

    /**
     * Get the index of all of value
     * @param {number|double|boolean|string} val
     * @return {array&lt;number>|null}
     */
    getIndexOf(val) {
        let stock = []

        for(let i = 0; i &lt;= this.length()-1; ++i) {
            if(this.getValueAt(i) == val) {
                stock.push(i)
            }
        }

        return stock.length > 0 ? stock : null
    }

    /**
     * Remove and return the first element
     * @return {any|null}
     */
    shift() {
        if(this.root.getNext()) {
            let cpy = this.root.getNext()
            let value = cpy.getValue()
            let nextOfFirst = cpy.getNext()
            this.root.setNext(nextOfFirst)

            return value
        } else {
            return null
        }
    }

    /**
     * Remove and return the last element
     * @return {any|null}
     */
    pop() {
        if(this.root.getNext()) {
            let cpy = this.root
            let last = null

            while(cpy.getNext() !== null) {
                last = cpy
                cpy = cpy.getNext()
            }
            
            last.breakNext()
            return cpy.getValue()
        } else {
            return null
        }
    }

    /**
     * Receive datas from an other ZStorage
     * @param {ZStorage} src 
     * @return {ZNodes}
     */
    copy(src) {
        const last = this.root
        this.root = src.getRoot()
        return last
    }

    /**
     * Get first ZNodes
     * @return {ZNodes}
     */
    getRoot() {
        return this.root
    }

    /**
     * Check if l2 is equals to l1
     * @param {ZStorage} l2 List to compare with this
     * @return {boolean}
     */
    equalTo(l2) {
        if(l2.length() !== this.length()) return false

        for(let i = 0; i &lt;= this.length()-1; ++i) {
            if(this.getValueAt(i) !== l2.getValueAt(i)) return false
        }

        return true
    }

    /**
     * Get the average of numbers values in this list (string value like "4" will be convert)
     *@return {number}
     */
    average() {
        return (this.sum()/this.length())
    }

    /**
     * Get the product of numbers in the list (string value like "4" will be convert)
     * @return {number}
     */
    product() {
        let res = 1

        for(let i = 0; i &lt;= this.length()-1; ++i) {
            switch(typeof(this.getValueAt(i))) {
                case "number": {
                    res *= this.getValueAt(i)
                    break
                }

                case "string": {
                    try {
                        res *= parseInt(this.getValueAt(i), 10)
                    } catch(nothing) {}
                    break
                }
            }
        }

        return res
    }

    /**
     * Additionate all of numbers in the list (string value like "4" will be convert)
     * @return {number}
     */
    sum() {
        let res = 0

        for(let i = 0; i &lt;= this.length()-1; ++i) {
            switch(typeof(this.getValueAt(i))) {
                case "number": {
                    res += this.getValueAt(i)
                    break
                }

                case "string": {
                    try {
                        res += parseInt(this.getValueAt(i), 10)
                    } catch(nothing) {}
                    break
                }
            }
        }

        return res
    }

    /**
     * Convert ZStorage to Array
     * @return {array}
     */
    toArray() {
        let arr = []

        for(let i = 0; i &lt;= this.length()-1; ++i) {
            arr.push(this.getValueAt(i))
        }

        return arr
    }

    /**
     * Get the string value of this list. Syntax: &lt;e1, e2, ...>
     * @return {string} 
     */
    toString() {
        let str = ""
        
        for(let i = 0; i &lt;= this.length()-1; i++) {
            switch(typeof(this.getValueAt(i))) {
                case "string": {
                    str += this.getValueAt(i)
                    break
                }

                case "number": {
                    str += this.getValueAt(i)
                    break
                }

                case "object": {
                    str += JSON.stringify(this.getValueAt(i), null, 0)
                    break
                }

                case "boolean": {
                    str += (this.getValueAt(i) ? "true" : "false")
                    break
                }
            }

            str += ','
        }

        return `&lt;${str.slice(0, -1)}>`
    }

    /**
     * [DEBUG] Print the chain list 
     * @return {void}
     */
    print() {
        let cpy = this.root
        let id = 0

        while(cpy.getNext() !== null) {
            ++id
            cpy = cpy.getNext()

            console.log(`${id}: ${cpy.getValue() instanceof Object ? 
                JSON.stringify(cpy.getValue()) : 
                cpy.getValue()
            }`)
        }
    }
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#ZNodesisnecessarytocreateaZStorage.">ZNodes is necessary to create a ZStorage.</a></li><li><a href="global.html#ZStorageListcontainsalotofnodes.">ZStorage List contains a lot of nodes.</a></li><li><a href="global.html#average">average</a></li><li><a href="global.html#breakAt">breakAt</a></li><li><a href="global.html#breakNext">breakNext</a></li><li><a href="global.html#clear">clear</a></li><li><a href="global.html#connect">connect</a></li><li><a href="global.html#copy">copy</a></li><li><a href="global.html#equalTo">equalTo</a></li><li><a href="global.html#equals">equals</a></li><li><a href="global.html#getIndexOf">getIndexOf</a></li><li><a href="global.html#getNext">getNext</a></li><li><a href="global.html#getRoot">getRoot</a></li><li><a href="global.html#getValue">getValue</a></li><li><a href="global.html#getValueAt">getValueAt</a></li><li><a href="global.html#length">length</a></li><li><a href="global.html#modifyValueAt">modifyValueAt</a></li><li><a href="global.html#pop">pop</a></li><li><a href="global.html#print">print</a></li><li><a href="global.html#product">product</a></li><li><a href="global.html#push">push</a></li><li><a href="global.html#setNext">setNext</a></li><li><a href="global.html#setValue">setValue</a></li><li><a href="global.html#shift">shift</a></li><li><a href="global.html#sum">sum</a></li><li><a href="global.html#toArray">toArray</a></li><li><a href="global.html#toString">toString</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Wed Oct 04 2023 02:06:48 GMT+0200 (heure d’été d’Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
